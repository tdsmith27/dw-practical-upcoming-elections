# Upcoming Elections Practical

This is a server-side web application written in JavaScript with
[Express][express] and [Handlebars][handlebars].

## Setup

    npm install

## Running

    DEBUG=js-upcoming-elections:* npm start

## Testing

    npm test

This project uses the [Node-Tap][node-tap] testing library for testing. This was my first time using this library and I was low on time, but I included tests for the three utility functions used in the project.

## Utility Functions
I created three utility functions in the /utils directory for code readability and maintainability. 
- generateAddressObj: takes the data object generated by the form submission and formats the fields into an addressObj. For the time being this function is only concerned with the city and state fields, but it could be easily updated to handle formatting of all of the form fields.
- generateOCDID: takes a formatted address object and generates a storage object for the resulting OCDIDs. Again, it is currently designed to handle state and place OCDIDs but could be extended to generate more data.
- generateApiReqUrl: takes in any number of OCDID strings and generates a request url for the TurboVote API by concatenating these OCDIDs onto a baseUrl representing the API endpoint. Using the rest parameter syntax in the function signature allows for the funtion to work with a variable number of input OCDID strings.

## Templates
This project uses handlbars for views templating. I decided to use the existing index template to display the results from the API by using handlbars built-in conditional helpers so that the user could easily submit a new form from the same page. Another option would have been to create a new template for displaying the results. 

## Additional Dependencies
- [Nodemon][nodemon]: I added nodemon to the project to automatically restart the server for ease of development. To run with nodemon use the `npm run dev` script
- [Axios][axios]: I added Axios for making http requests to the TurboVote API.

[node-tap]: https://node-tap.org/
[axios]: https://www.npmjs.com/package/axios
[nodemon]: https://nodemon.io/
[express]: https://expressjs.com/
[handlebars]: http://handlebarsjs.com/
